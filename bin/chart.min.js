var chart=chart||{};!function(c){c.enumChart=Object.freeze({column:1,geo:2})}(window.chart),function(c){c.charts=c.charts||{},c.charts.ChartBase=function(pOptions,el){function init(){validate(),window.google.setOnLoadCallback(drawChart)}function drawChart(){var dataTable=getDataTable(settings.data),data=window.google.visualization.arrayToDataTable(dataTable);settings.responsive&&(settings.options.width=65*data.getNumberOfColumns());var chart=self.draw(el,data,settings.options);window.google.visualization.events.addListener(chart,"select",settings.select)}function getDataTable(data){var dataTable=[],columns=getColumns(data),rows=getRows(columns,data);dataTable.push(columns);for(var countRows=rows.length,i=0;countRows>i;i++)dataTable.push(rows[i]);return dataTable}function getColumns(data){for(var found,count=data.length,columns=["Grupo"],groups=[],i=0;count>i;i++)found=groups.filter(function(item){return item===data[i].Descricao}),0===found.length&&groups.push(settings.data[i].Descricao);return columns.push.apply(columns,groups),columns}function getRows(columns,data){for(var found,count=data.length,rows=[],groups=[],i=0;count>i;i++)found=groups.filter(function(item){return item===settings.data[i].Grupo}),0===found.length&&groups.push(settings.data[i].Grupo);count=groups.length;for(var y=0;count>y;y++){var row=[];row.push(groups[y]);for(var countColumns=columns.length,j=1;countColumns>j;j++)row.push(getValues(groups[y],columns[j],data));rows.push(row)}return rows}function getValues(row,column,data){var found=data.filter(function(item){return item.Grupo===row&&item.Descricao===column});if(0===found.length)return{v:0,f:"0"};var value=found.reduce(function(ant,current){return{Valor:ant.Valor+current.Valor}}).Valor;return{v:value,f:value.toFixed(2)}}function validate(){if(!settings.source&&!settings.data)throw new Error("Data source not found.")}var self=this,options=pOptions,settings={source:"",data:null,responsive:!1,options:{height:100,width:100},select:function(pchart){},mouseOver:function(pchart){}};$.extend(!0,settings,options),init()}}(window.chart),function(c){"use strict";c.charts=c.charts||{},c.charts.Column=function(options,element){var self=this;self.draw=function(pElement,datatable,pOptions){$.extend(!0,settings,pOptions);var chart=new window.google.visualization.ColumnChart(pElement);return chart.draw(datatable,pOptions),chart},c.charts.ChartBase.call(self,options,element);var settings={legend:{position:"none"},height:100,width:100,backgroundColor:"transparent",bar:{groupWidth:"95%"},tooltip:{textStyle:{fontSize:10}}}},c.charts.Column.prototype=Object.create(c.charts.ChartBase.prototype)}(window.chart),function(c){"use strict";c.charts=c.charts||{},c.charts.Geo=function(options,element){var self=this;self.draw=function(pElement,datatable,pOptions){$.extend(!0,settings,pOptions);var chart=new google.visualization.GeoChart(pElement);return chart.draw(datatable,pOptions),chart},c.charts.ChartBase.call(self,options,element);var settings={source:"",data:null,options:{legend:{position:"none"},height:100,width:100,backgroundColor:"transparent",bar:{groupWidth:"95%"},tooltip:{textStyle:{fontSize:10}},region:"BR",displayMode:"markers",colorAxis:{colors:["#0000FF","#0000CD","#00008B"]}},selected:function(pchart){},mouseOver:function(pchart){}}},c.charts.Geo.prototype=Object.create(c.charts.ChartBase.prototype)}(window.chart),function(c){c.factory=c.factory||{},c.factory.chartFactory=function(){function createNew(typeChart,options,el){return new Charts[typeChart](options,el)}var Charts={};return Charts[c.enumChart.geo]=c.charts.Geo,Charts[c.enumChart.column]=c.charts.Column,{createNew:createNew}}}(window.chart),function($){"use strict";window.google.load("visualization","1",{packages:["corechart","geochart"]}),$.fn.chart=function(typeChart,settings){return window.chart.factory.chartFactory().createNew(typeChart,settings,this[0])}}(window.jQuery);